{"ast":null,"code":"import _slicedToArray from\"/root/hw-milestone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{useParams}from\"react-router-dom\";import MovieItem from\"../components/MovieItem\";import CommentForm from\"../components/comments/js/CommentForm\";import CommentList from\"../components/comments/js/CommentList\";import Card from\"../components/ui/js/Card\";import classes from\"./MoviePage.module.css\";import card_classes from\"../components/ui/css/Card.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MoviePage(){var _useParams=useParams(),username=_useParams.username;var movie_page_id=new URLSearchParams(location.search).get(\"movie_page_id\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),comment_length=_useState2[0],setCommentLength=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),image_source=_useState4[0],setImageSource=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),tag_line=_useState8[0],setTagLine=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),genre=_useState10[0],setGenre=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),wiki=_useState12[0],setWiki=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),movie_id=_useState14[0],setMovieId=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),comments=_useState16[0],setComments=_useState16[1];function getMovieDetails(){if(movie_page_id!=null){fetch_url=\"/movie/fetch_movie/\"+username+\"/id/\"+movie_page_id;}else{fetch_url=\"/movie/fetch_movie/\"+username;}fetch(fetch_url).then(function(reponse){return reponse.json().then(function(data){setCommentLength(data.len);setImageSource(data.poster);setTitle(data.title);setTagLine(data.overview);setGenre(data.genre);setWiki(data.wiki);setMovieId(data.movie_id);setComments(data.comments);});});}useEffect(function(){getMovieDetails();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.flexbox_row,children:[/*#__PURE__*/_jsx(Card,{stylecard:card_classes.postercard,children:/*#__PURE__*/_jsx(MovieItem,{src:image_source,title:title,tag_line:tag_line,genre:genre,wiki:wiki})}),/*#__PURE__*/_jsx(\"div\",{className:classes.flexbox_column,children:/*#__PURE__*/_jsxs(Card,{stylecard:card_classes.commentform,children:[/*#__PURE__*/_jsx(CommentForm,{movie_id:movie_id}),/*#__PURE__*/_jsx(CommentList,{length:comment_length,comments:comments})]})})]});}export default MoviePage;","map":{"version":3,"sources":["/root/hw-milestone/src/pages/MoviePage.js"],"names":["useEffect","useState","useParams","MovieItem","CommentForm","CommentList","Card","classes","card_classes","MoviePage","username","movie_page_id","URLSearchParams","location","search","get","comment_length","setCommentLength","image_source","setImageSource","title","setTitle","tag_line","setTagLine","genre","setGenre","wiki","setWiki","movie_id","setMovieId","comments","setComments","getMovieDetails","fetch_url","fetch","then","reponse","json","data","len","poster","overview","flexbox_row","postercard","flexbox_column","commentform"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { useParams } from \"react-router-dom\";\nimport MovieItem from \"../components/MovieItem\";\nimport CommentForm from \"../components/comments/js/CommentForm\";\nimport CommentList from \"../components/comments/js/CommentList\";\nimport Card from \"../components/ui/js/Card\";\nimport classes from \"./MoviePage.module.css\"\nimport card_classes from \"../components/ui/css/Card.module.css\"\n\n\n\nfunction MoviePage() {\n\n    const { username } = useParams();\n\n    const movie_page_id = new URLSearchParams(location.search).get(\"movie_page_id\")\n\n    const [comment_length, setCommentLength] = useState(\"\");\n\n    const [image_source, setImageSource] = useState(\"\");\n\n    const [title, setTitle] = useState(\"\");\n\n    const [tag_line, setTagLine] = useState(\"\");\n\n    const [genre, setGenre] = useState(\"\");\n\n    const [wiki, setWiki] = useState(\"\");\n\n    const [movie_id, setMovieId] = useState(\"\");\n\n    const [comments, setComments] = useState([]);\n\n    function getMovieDetails() {\n\n        if (movie_page_id != null) {\n            fetch_url = \"/movie/fetch_movie/\" + username + \"/id/\" + movie_page_id\n        } else {\n            fetch_url = \"/movie/fetch_movie/\" + username\n        }\n        fetch(fetch_url).then(reponse =>\n            reponse.json().then(data => {\n                setCommentLength(data.len)\n                setImageSource(data.poster);\n                setTitle(data.title);\n                setTagLine(data.overview);\n                setGenre(data.genre);\n                setWiki(data.wiki);\n                setMovieId(data.movie_id)\n                setComments(data.comments)\n            }\n            )\n        )\n    }\n    useEffect(() => {\n        getMovieDetails();\n    }, []);\n\n    return (\n        <div className={classes.flexbox_row}>\n            <Card stylecard={card_classes.postercard}>\n                <MovieItem\n                    src={image_source}\n                    title={title}\n                    tag_line={tag_line}\n                    genre={genre}\n                    wiki={wiki} />\n            </Card>\n            <div className={classes.flexbox_column}>\n                <Card stylecard={card_classes.commentform}>\n                    <CommentForm movie_id={movie_id} />\n                    <CommentList length={comment_length} comments={comments} />\n                </Card>\n\n            </div>\n        </div>\n    );\n}\n\n\nexport default MoviePage"]},"metadata":{},"sourceType":"module"}