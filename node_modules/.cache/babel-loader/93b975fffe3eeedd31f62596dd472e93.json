{"ast":null,"code":"import classes from\"../css/CommentList.module.css\";import Comment from\"./Comment\";import{useNavigate}from'react-router-dom';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function DeleteCommentList(props){var navigate=useNavigate();function deleteCommentById(id){console.log(id);var requestOptions={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({comment_id:id})};fetch(\"/delete_comment\",requestOptions).then(function(reponse){return reponse.json().then(function(data){navigate(\"/movie\",{state:{current_user:props.user}});});});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.commentlist,children:[/*#__PURE__*/_jsxs(\"div\",{id:\"comment_length\",children:[props.length,\" Comment(s)\"]}),props.comments.map(function(comment){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Comment,{user:comment.user,rating:comment.rating,comment:comment.comment}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){deleteCommentById(comment.id);},children:\"Delete\"})]});})]});}export default DeleteCommentList;","map":{"version":3,"sources":["/root/hw-milestone/src/components/comments/js/DeleteCommentList.js"],"names":["classes","Comment","useNavigate","DeleteCommentList","props","navigate","deleteCommentById","id","console","log","requestOptions","method","headers","body","JSON","stringify","comment_id","fetch","then","reponse","json","data","state","current_user","user","commentlist","length","comments","map","comment","rating","event"],"mappings":"AAAA,MAAOA,CAAAA,OAAP,KAAoB,+BAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,QAASC,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CAE9B,GAAIC,CAAAA,QAAQ,CAAGH,WAAW,EAA1B,CAEA,QAASI,CAAAA,iBAAT,CAA2BC,EAA3B,CAA+B,CAC3BC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACA,GAAMG,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFU,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEC,UAAU,CAAET,EAAd,CAAf,CAHa,CAAvB,CAMAU,KAAK,CAAC,iBAAD,CAAoBP,cAApB,CAAL,CAAyCQ,IAAzC,CAA8C,SAAAC,OAAO,QACjDA,CAAAA,OAAO,CAACC,IAAR,GAAeF,IAAf,CAAoB,SAAAG,IAAI,CAAI,CAExBhB,QAAQ,CAAC,QAAD,CAAW,CAAEiB,KAAK,CAAE,CAAEC,YAAY,CAAEnB,KAAK,CAACoB,IAAtB,CAAT,CAAX,CAAR,CACH,CAHD,CADiD,EAArD,EAOH,CAED,mBACI,aAAK,SAAS,CAAExB,OAAO,CAACyB,WAAxB,wBACI,aAAK,EAAE,CAAC,gBAAR,WAA0BrB,KAAK,CAACsB,MAAhC,iBADJ,CAEKtB,KAAK,CAACuB,QAAN,CAAeC,GAAf,CAAmB,SAAAC,OAAO,qBACvB,oCACI,KAAC,OAAD,EACI,IAAI,CAAEA,OAAO,CAACL,IADlB,CAEI,MAAM,CAAEK,OAAO,CAACC,MAFpB,CAGI,OAAO,CAAED,OAAO,CAACA,OAHrB,EADJ,cAQI,eAAQ,OAAO,CAAE,iBAAAE,KAAK,CAAI,CACtBzB,iBAAiB,CAACuB,OAAO,CAACtB,EAAT,CAAjB,CACH,CAFD,oBARJ,GADuB,EAA1B,CAFL,GADJ,CAsBH,CAED,cAAeJ,CAAAA,iBAAf","sourcesContent":["import classes from \"../css/CommentList.module.css\";\nimport Comment from \"./Comment\";\nimport { useNavigate } from 'react-router-dom';\n\nfunction DeleteCommentList(props) {\n\n    let navigate = useNavigate();\n\n    function deleteCommentById(id) {\n        console.log(id)\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ comment_id: id })\n        };\n\n        fetch(\"/delete_comment\", requestOptions).then(reponse =>\n            reponse.json().then(data => {\n\n                navigate(\"/movie\", { state: { current_user: props.user } });\n            }\n            )\n        )\n    }\n\n    return (\n        <div className={classes.commentlist}>\n            <div id=\"comment_length\">{props.length} Comment(s)</div>\n            {props.comments.map(comment =>\n                <div>\n                    <Comment\n                        user={comment.user}\n                        rating={comment.rating}\n                        comment={comment.comment}\n\n                    />\n\n                    <button onClick={event => {\n                        deleteCommentById(comment.id)\n                    }}>Delete</button>\n                </div>\n            )\n            }\n        </div>\n    );\n\n\n}\n\nexport default DeleteCommentList"]},"metadata":{},"sourceType":"module"}